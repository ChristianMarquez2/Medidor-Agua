/*
  ========================================
  SCSS para la página de Registros de Medidores
  Tema: Agua Potable (Profesional/Limpio)
  ========================================
*/

/* --- Variables de Color (Tema Agua) --- */
$color-primary: #005A9C; // Azul principal (corporativo)
$color-secondary: #4DB8FF; // Celeste (agua, frescura)
$color-dark: #222222; // Negro (para texto)
$color-light: #FFFFFF; // Blanco (para tarjetas)
$color-light-gray-bg: #f7f9fa; // Fondo de página (muy sutil)
$color-gray-border: #e0e0e0;

/* --- 1. Cabecera (Header) --- */
ion-header {
  // Sombra sutil en la cabecera
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);

  ion-toolbar {
    --background: $color-primary;
    --color: $color-light; // Color del texto del título
  }

  ion-title {
    font-weight: 600;
  }
}

/* --- 2. Fondo del Contenido --- */
ion-content {
  // Usamos un fondo gris claro para que las "tarjetas" resalten
  --background: $color-light-gray-bg;
}

/* --- 3. Estados de Carga / Vacío --- */
.center {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 60vh; // Que ocupe buena parte de la pantalla

  ion-spinner {
    color: $color-primary;
    // Hacemos el spinner un poco más grande
    transform: scale(1.5);
  }

  p {
    color: #666; // Un gris medio para el texto
    font-size: 1rem;
    margin-top: 1.5rem;
  }
}

/* --- 4. Lista de Registros --- */
ion-list {
  // Quitamos el fondo de la lista para ver el fondo del content
  background: transparent;
  --ion-background-color: transparent;
  // Añadimos padding para que las tarjetas no toquen los bordes
  padding: 0.5rem 1rem;
}

/* --- 5. Tarjeta de Registro (ion-item) --- */
ion-item {
  --background: $color-light;
  --border-color: transparent; // Sin líneas feas entre items
  
  /* MÁS ESPACIO: Aumentamos el padding interno de la tarjeta */
  --padding-start: 1.25rem;
  --inner-padding-end: 1.25rem;
  --inner-padding-bottom: 1.25rem;
  --inner-padding-top: 1.25rem;

  border-radius: 12px; // Esquinas redondeadas de tarjeta
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); // Sombra suave
  margin-bottom: 1rem; // Espacio entre tarjetas
}

/* --- 6. Contenido de la Tarjeta (ion-label) --- */
ion-label {
  
  /* MEJOR JERARQUÍA: Hacemos el h2 un título claro */
  h2 {
    color: $color-primary; // Título (Usuario) en azul primario
    font-size: 1.25rem;    // Un poco más grande
    font-weight: 500;      // Peso medio
    margin-bottom: 1rem;   // Más espacio debajo
    padding-bottom: 0.75rem; // Espacio para la línea
    border-bottom: 1px solid $color-gray-border; // Línea divisoria

    b {
      font-weight: 700; // Resaltar "Usuario:"
      color: $color-dark;
    }
  }

  /* MEJOR ALINEACIÓN Y LECTURA */
  p {
    color: #555; // Un gris más suave para el valor (ej: "1234")
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 0.35rem;
    display: flex; // Usamos flex para alinear

    b {
      font-weight: 600;   // Semi-bold
      color: $color-dark; // Etiqueta más oscura
      
      /* ¡LA CLAVE DE LA ALINEACIÓN! */
      min-width: 80px; // Ajusta este valor si es necesario
      display: inline-block; 
      margin-right: 0.5rem;
    }
  }

  // Estilo para el enlace de "Ver ubicación"
  p[style*="cursor:pointer"] {
    color: var(--ion-color-primary, #3880ff) !important; // Usamos el azul de Ionic
    font-weight: 600;
    margin-top: 0.75rem;
    text-decoration: none; // Más limpio sin subrayado
    cursor: pointer;

    &:hover {
      text-decoration: underline; // Subrayado solo al pasar el mouse
    }
  }
}

/* --- 7. Imágenes Adjuntas --- */
.images {
  display: grid;
  grid-template-columns: 1fr 1fr; // Dos columnas iguales
  gap: 0.75rem; // Espacio entre las imágenes
  margin-top: 1rem;

  ion-img {
    border-radius: 8px;
    overflow: hidden; // Asegura que la imagen respete las esquinas
    border: 1px solid $color-gray-border;
    width: 100%;
    
    /* ¡LA CLAVE ANTI-DISTORSIÓN! */
    /* Quitamos la altura fija y usamos proporción */
    /* height: 120px; */ // <-- ELIMINADO
    aspect-ratio: 16 / 9; // <-- AÑADIDO

    // Estilo para la imagen interna para que rellene el contenedor
    &::part(image) {
      object-fit: cover; // <-- Mantiene la foto sin estirar
      height: 100%;
      width: 100%;
    }
  }
}